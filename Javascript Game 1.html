<html>
Did you know if you drag a text document onto a web browser, it will print the contents to screen? 
<br/>
<h1>Groovy.</h1>
<p>If it's a text doc, it will print verbatim. If it's an html doc, it will print as html.</p>
<p>The console is useful because it will show errors in your JS.</p>

<canvas id="gameCanvas" width="800" height="600"></canvas>

<script>

var canvas;
var canvasContext;
var ballX = 50; /*this will be horizontal position of ball*/
var ballSpeedX = 10;

window.onload = function(){
  console.log("window.onload starts the script only after the page is loaded.");

  canvas = document.getElementById('gameCanvas');
  canvasContext = canvas.getContext('2d');

/*
you coded this out instead of moving it because you want the notes. 
*/

  //canvasContext.fillStyle = 'black';
  //canvasContext.fillRect(0,0, canvas.width, canvas.height);
  /* in last line, 0,0 was x,y coord in top left.
     canvas.width, canvas.height was x,y in bottom right -- ie, 800, 600
     it's the reverse of classical math coords */
  /* this next bit is an example of using coords to place a rectangle:
     canvasContext.fillStyle = 'red';
     canvasContext.fillRect(100,200,50,25); */
  /* note that the first two numbers say where it starts
     and the last two say its size */
  /* later shapes sit on top of earlier shapes if they overlap */
  //canvasContext.fillStyle = 'white';
  //canvasContext.fillRect(canvas.width/2,canvas.height/3,200,100);

  /* This would "manually" call the function three time.
  drawEverything();
  drawEverything();
  drawEverything();
    Instead, we'll use a function that repeatedly calls it.
  */

  var framesPerSecond = 30;
  /* setInterval(callBoth, 1000/framesPerSecond); commented out, replaced with this: */

  setInterval(function(){
      drawEverything();
      moveEverything();
    }, 1000/framesPerSecond);

//see how that function doesn't have a name? that's ok when you only call it in one place.


  //1000 = one second
  //500 = half second, etc.
  //fyi, the ball will hit the right edge at position 800 -- watch the console tracker!
  //we originally just set the timing as a number. 
  //using framesPerSecond helps us read the code more easily.
}

function drawEverything(){
  
  //originally, drawEverything contained the details of the color blocks
  //but to make code cleaner and more flexible, you made a new function below
  //then called it three times, passing the 5 required parameters

  //canvasContext.fillStyle = 'black';
  //canvasContext.fillRect(0,0, canvas.width, canvas.height);
  colorRect(0,0, canvas.width, canvas.height, 'black');  /*background*/

  //canvasContext.fillStyle = 'white';
  //canvasContext.fillRect(10,210,10,100);
  colorRect(10,210,10,100, 'white');  /*player paddle*/

  //canvasContext.fillStyle = 'red';
  //canvasContext.fillRect(ballX,200,20,20); 
  colorRect(ballX,200,20,20, 'red');  /*ball*/

  console.log("drawEverything is called. ballX = " + ballX);

  //you can change different placement numbers to change what the "ball" does
  //for example:
  //canvasContext.fillRect(50,200,ballX+50,25); /* makes ball grow to the right */
  //canvasContext.fillRect(ballX,200,ballX-5,25); /* makes ball move AND grow */
  
}

function moveEverything(){
  ballX = ballX + ballSpeedX;
  //ballSpeedX = ballSpeedX + 1; this would make ball accelerate if we wanted

  //make it bounce off right wall:
  if (ballX > canvas.width) {
    ballSpeedX = -ballSpeedX;  /*negative makes it go the other way*/
  }

  //make it bounce off left wall:
  if (ballX < 0) {
    ballSpeedX = -ballSpeedX;  /*negative makes it go the other way*/
  }
}

//the first time you wrote this, you put this function here.
//but they only place it's going to be used is up in setInterval.
//so comment it out here, and put this function "inline" in set interval.
/*
function callBoth(){
  drawEverything();
  moveEverything();
}
*/

function colorRect(leftX, topY, width, height, drawColor){
  canvasContext.fillStyle = drawColor;
  canvasContext.fillRect(leftX, topY, width, height);
}

</script>
</html>